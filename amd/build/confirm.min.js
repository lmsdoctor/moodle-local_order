/*
 * @package    local_order
 * @copyright  2021 Andres, DQ.
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_order/confirm",["jquery","core/modal_factory","core/modal_events"],(function($,ModalFactory,ModalEvents){return{init:function(){function showFinalDate(){const checked=$("input#id_startdate_enabled").is(":checked");$("#fitem_id_finaldate").toggleClass("d-none",!checked),$("input#id_finaldate_enabled").prop("disabled",!checked).prop("checked",!1)}window.addEventListener("beforeunload",(function(event){event.stopImmediatePropagation()})),showFinalDate(),$("input#id_startdate_enabled").change(showFinalDate),$("a.action-delete").on("click",(function(e){e.preventDefault();var href=$(this).attr("href"),trigger=$(".create-modal");ModalFactory.create({type:ModalFactory.types.SAVE_CANCEL,title:"Delete",body:"Do you really want to delete this record?"},trigger).done((function(modal){modal.getRoot().on(ModalEvents.save,(function(){location.href=href})),modal.show()}))})),$("form[name='updatestatus'] #id_submitbutton").on("click",(function(e){e.preventDefault();var trigger=$(".create-modal");ModalFactory.create({type:ModalFactory.types.SAVE_CANCEL,title:"Update order status",body:"Do you really want to update this order? It may result in unregistering students from their courses."},trigger).done((function(modal){modal.getRoot().on(ModalEvents.save,(function(){$("form").submit()})),modal.show()}))}))}}}));

//# sourceMappingURL=confirm.min.js.map