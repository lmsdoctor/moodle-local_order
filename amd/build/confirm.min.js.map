{"version":3,"file":"confirm.min.js","sources":["../src/confirm.js"],"sourcesContent":["/*\n * @package    local_order\n * @copyright  2021 Andres, DQ.\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery', 'core/modal_factory', 'core/modal_events'],\nfunction($, ModalFactory, ModalEvents) {\n    return {\n        init: function() {\n            $('a.action-delete').on('click', function(e) {\n                e.preventDefault();\n                var href = $(this).attr('href');\n                var trigger = $('.create-modal');\n                ModalFactory.create({\n                    type: ModalFactory.types.SAVE_CANCEL,\n                    title: 'Delete',\n                    body: 'Do you really want to delete this record?',\n                }, trigger)\n                .done(function(modal) {\n                    modal.getRoot().on(ModalEvents.save, function() {\n                      location.href = href;\n                    });\n                    modal.show();\n                });\n            });\n\n            $('#id_submitbutton').on('click', function(e) {\n                e.preventDefault();\n\n                var trigger = $('.create-modal');\n                ModalFactory.create({\n                    type: ModalFactory.types.SAVE_CANCEL,\n                    title: 'Update order status',\n                    body: 'Do you really want to update this order? it may result in unregistering students from their courses.',\n                }, trigger)\n                .done(function(modal) {\n                    modal.getRoot().on(ModalEvents.save, function() {\n                        // Submit the form.\n                        $('form').submit();\n                        // Do not display leaving warning in the browser.\n                        window.onbeforeunload = function() { return undefined; };\n                    });\n                    modal.show();\n                });\n            });\n        }\n    };\n});\n"],"names":["define","$","ModalFactory","ModalEvents","init","on","e","preventDefault","href","this","attr","trigger","create","type","types","SAVE_CANCEL","title","body","done","modal","getRoot","save","location","show","submit","window","onbeforeunload"],"mappings":";;;;;AAKAA,6BAAO,CAAC,SAAU,qBAAsB,sBACxC,SAASC,EAAGC,aAAcC,mBACf,CACHC,KAAM,WACFH,EAAE,mBAAmBI,GAAG,SAAS,SAASC,GACtCA,EAAEC,qBACEC,KAAOP,EAAEQ,MAAMC,KAAK,QACpBC,QAAUV,EAAE,iBAChBC,aAAaU,OAAO,CAChBC,KAAMX,aAAaY,MAAMC,YACzBC,MAAO,SACPC,KAAM,6CACPN,SACFO,MAAK,SAASC,OACXA,MAAMC,UAAUf,GAAGF,YAAYkB,MAAM,WACnCC,SAASd,KAAOA,QAElBW,MAAMI,aAIdtB,EAAE,oBAAoBI,GAAG,SAAS,SAASC,GACvCA,EAAEC,qBAEEI,QAAUV,EAAE,iBAChBC,aAAaU,OAAO,CAChBC,KAAMX,aAAaY,MAAMC,YACzBC,MAAO,sBACPC,KAAM,wGACPN,SACFO,MAAK,SAASC,OACXA,MAAMC,UAAUf,GAAGF,YAAYkB,MAAM,WAEjCpB,EAAE,QAAQuB,SAEVC,OAAOC,eAAiB,gBAE5BP,MAAMI"}